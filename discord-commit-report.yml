name: Discord Commit Report

on:
  push:
    branches:
      - main
  pull_request:
    types: [opened, closed, reopened, merged]

jobs:
  send-discord:
    runs-on: ubuntu-latest
    steps:
      - name: Send message to Discord
        uses: peter-evans/webhook@v2
        with:
          url: ${{ secrets.DISCORD_WEBHOOK_URL }}
          payload: |
            {
              "content": "ğŸ“Œ **Commit Report / PR Update**\nğŸ‘¤ **Autor:** ${{ github.actor }}\nğŸ“… **Data:** ${{ github.event.head_commit.timestamp || github.event.pull_request.updated_at }}\nğŸ’» **Mensagem:** ${{ github.event.head_commit.message || github.event.pull_request.title }}\nğŸ”— **URL:** ${{ github.event.head_commit.url || github.event.pull_request.html_url }}"
            }
